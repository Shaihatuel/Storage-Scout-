# storage-scraper â€” Suggested Commands

## Setup
```bash
# Create and activate virtual environment
python3.11 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

## Run the app
```bash
# Development server (auto-reload)
uvicorn app.main:app --reload --port 8000

# Production
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

## API docs
Open http://localhost:8000/docs (Swagger UI auto-generated by FastAPI)

## Run scraper manually
```bash
python -c "
from app.scraper.storage_treasures import StorageTreasuresScraper
with StorageTreasuresScraper() as s:
    n = s.fetch_and_save(state='CA', max_pages=3)
    print(f'Saved {n} listings')
"
```

## Testing
```bash
pytest tests/ -v
pytest tests/ -v --tb=short   # short tracebacks
```

## Linting / Formatting
```bash
ruff check app/ tests/       # lint
ruff format app/ tests/      # format
```

## Database inspection
```bash
sqlite3 data/storage_scraper.db ".tables"
sqlite3 data/storage_scraper.db "SELECT * FROM listings LIMIT 5;"
```

## Init DB manually
```bash
python -c "from app.database import init_db; init_db(); print('DB initialized')"
```
